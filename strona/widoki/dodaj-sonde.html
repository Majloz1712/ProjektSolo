<!-- /widoki/dodaj-sonde.html -->
<div class="card card--full" aria-labelledby="add-probe-title">
  <div class="card-body">
    <h2 id="add-probe-title" style="margin:0 0 6px 0;">Dodaj sondę</h2>
    <p class="hint" style="margin:0 0 14px 0;">Podaj adres strony, częstotliwość sprawdzania i opcjonalny prompt wspierający model.</p>

    <form id="formAddProbe" novalidate>
      <!-- Nazwa sondy -->
      <div class="field">
        <label for="probeName">Nazwa sondy</label>
        <input
          type="text"
          id="probeName"
          name="name"
          class="input"
          placeholder="Np. Promocje – Sklep X"
          maxlength="150"
          required
        />
        <div class="hint">Dowolna nazwa, która pomoże Ci rozpoznać sondę.</div>
      </div>

      <!-- URL strony -->
      <div class="field">
        <label for="probeUrl">Link do strony (URL)</label>
        <input
          type="url"
          id="probeUrl"
          name="url"
          class="input"
          placeholder="https://twojadomena.pl/artykul"
          inputmode="url"
          autocomplete="off"
          required
        />
        <div class="hint">Wklej pełny adres zaczynający się od <code>http://</code> lub <code>https://</code>.</div>
      </div>

<!-- Typ skanowania -->
<!-- Typ skanowania -->
<div class="field">
  <label for="scanType">Typ skanowania</label>
  <select id="scanType" name="tryb_skanu" class="input" required>
    <option value="screenshot">Screenshot (wizualnie)</option>
    <option value="static" selected>Tradycyjna (tekst/HTML)</option>
  </select>
  <div class="hint">
    Screenshot: stabilniejsze dla dynamicznego UI. Tradycyjna: szybciej i taniej przy analizie tekstu.
  </div>
</div>


<!-- Częstotliwość -->

      <div class="field">
        <label for="intervalValue">Co ile wykonywać sondę</label>
        <div class="row">
          <input
            type="number"
            id="intervalValue"
            name="interval_value"
            class="input"
            placeholder="5"
            min="1"
            step="1"
            required
            aria-describedby="intervalHelp"
          />
          <select id="intervalUnit" name="interval_unit" class="input" required>
            <option value="minute">minut(y)</option>
            <option value="hour">godzin(y)</option>
            <option value="second">sekund(y)</option>
          </select>
        </div>
        <div id="intervalHelp" class="hint">Minimalna wartość: 1. Wybierz jednostkę czasu.</div>
      </div>

      <!-- Dodatkowy prompt -->
      <div class="field">
        <label for="llmPrompt">Dodatkowy prompt (opcjonalnie)</label>
        <textarea
          id="llmPrompt"
          name="prompt"
          class="input"
          rows="6"
          placeholder="Np. 'Wyszukaj w treści zmiany cen, dostępności lub słów: wyprzedaż, promocja.'"
          maxlength="1200"
        ></textarea>
        <div class="row row--actions" style="margin-top:8px;">
          <div class="hint" id="promptCounter">0 / 1200</div>
        </div>
      </div>

      <!-- Komunikaty -->
      <div class="messages" id="formMessages" aria-live="polite"></div>

      <!-- Przyciski -->
      <div class="row row--actions" style="margin-top: 14px;">
        <button type="reset" class="btn btn--ghost btn--sm" id="btnClear">Wyczyść</button>
        <button type="submit" class="btn btn--sm" id="btnAdd">Dodaj</button>
      </div>
    </form>
  </div>
</div>
